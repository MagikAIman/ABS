code from Advanced Bash-Scripting Guide:
